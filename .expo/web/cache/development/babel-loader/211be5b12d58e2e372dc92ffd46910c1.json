{"ast":null,"code":"var _jsxFileName = \"D:\\\\dropshipping\\\\mobile developpement\\\\bentriaa\\\\screens\\\\Profile.js\";\nimport React from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { TheContextConsumer } from \"../context/context\";\nexport default function Profile(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var FindNextJun = function FindNextJun(date) {\n    var dateToSec = date.getTime();\n    var junDateToSec = date.setMonth(5);\n    junDateToSec = date.setDate(1);\n\n    if (dateToSec - junDateToSec > 0) {\n      return new Date(365 * 24 * 60 * 60 * 1000 + junDateToSec);\n    } else {\n      return new Date(junDateToSec);\n    }\n  };\n\n  var chargeParAnnee = function chargeParAnnee(Appartement) {\n    var dayPrice = 4850 / 365;\n    var today = new Date();\n    today.setUTCHours(0, 0, 0, 0);\n    var NextJun = FindNextJun(today);\n    var x = Math.floor(dayPrice * (NextJun.getTime() - Appartement.DateDeSignatureDuContrat.toDate().getTime()) / (1000 * 60 * 60 * 24));\n\n    if (x >= 4850) {\n      while (true) {\n        x = x - 4850;\n        console.log(x);\n\n        if (x < 4850) {\n          break;\n        }\n      }\n    } else {\n      console.log(x);\n    }\n  };\n\n  var ChargeByAppartement = function ChargeByAppartement(userToAdd) {\n    return React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, userToAdd.proprietaireDe.map(function (Appartement, i) {\n      chargeParAnnee(Appartement);\n      var today = new Date();\n      today.setUTCHours(0, 0, 0, 0);\n      var NextJun = FindNextJun(today);\n      var dayPrice = 4850 / 365;\n      var x = Math.floor(dayPrice * (NextJun.getTime() - Appartement.DateDeSignatureDuContrat.toDate().getTime()) / (1000 * 60 * 60 * 24));\n      return React.createElement(Text, {\n        style: {\n          textAlign: \"center\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, \"appart \" + Appartement.titreFoncier + \" : \", \"Montant Ã  payer : \" + JSON.stringify(x) + \" DH \" + \"\\n\");\n    }));\n  };\n\n  var charges = function charges(ListDesAppartements) {\n    var results = [];\n    var today = new Date();\n    today.setUTCHours(0, 0, 0, 0);\n    var NextJunFromToDay = FindNextJun(today);\n    var dayPrice = 4850 / 365;\n    ListDesAppartements.map(function (appartment, i) {\n      var ContractTimeStamp = appartment.DateDeSignatureDuContrat.toDate().getTime();\n      var ContractnextJuneTimeStamp = FindNextJun(appartment.DateDeSignatureDuContrat.toDate()).getTime();\n\n      if (ContractnextJuneTimeStamp === NextJunFromToDay.getTime()) {\n        results.push({\n          jours: Math.floor((NextJunFromToDay.getTime() - ContractnextJuneTimeStamp) / (100 * 60 * 60 * 24))\n        });\n      } else {\n        results.push({\n          jours: Math.floor(NextJunFromToDay.getTime())\n        });\n      }\n\n      Alert.alert(\"\", JSON.stringify(results));\n    });\n  };\n\n  return React.createElement(TheContextConsumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, function (value) {\n    return React.createElement(View, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 29\n      }\n    }), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }, \"Profile\"), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }, charges(value.userState.proprietaireDe)), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, React.createElement(Button, {\n      title: \"back\",\n      onPress: function onPress() {\n        navigation.navigate(\"Dashboard\");\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 33\n      }\n    })));\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'space-around'\n  }\n});","map":{"version":3,"sources":["D:/dropshipping/mobile developpement/bentriaa/screens/Profile.js"],"names":["React","TheContextConsumer","Profile","navigation","FindNextJun","date","dateToSec","getTime","junDateToSec","setMonth","setDate","Date","chargeParAnnee","Appartement","dayPrice","today","setUTCHours","NextJun","x","Math","floor","DateDeSignatureDuContrat","toDate","console","log","ChargeByAppartement","userToAdd","proprietaireDe","map","i","textAlign","titreFoncier","JSON","stringify","charges","ListDesAppartements","results","NextJunFromToDay","appartment","ContractTimeStamp","ContractnextJuneTimeStamp","push","jours","Alert","alert","value","styles","container","userState","navigate","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Alert } from 'react-native'\r\nimport { Button } from 'react-native'\r\nimport { View, Text,StyleSheet } from 'react-native'\r\nimport { TheContextConsumer } from '../context/context'\r\n\r\nexport default function Profile({navigation}) {\r\n\r\n    const FindNextJun = (date)=>{\r\n        let dateToSec = date.getTime()\r\n        let junDateToSec = date.setMonth(5)\r\n        junDateToSec = date.setDate(1)\r\n        if(dateToSec-junDateToSec > 0){\r\n            return(new Date(365*24*60*60*1000+junDateToSec))\r\n        }else{\r\n            return(new Date(junDateToSec))\r\n        }\r\n    }\r\n    const chargeParAnnee = (Appartement) => {\r\n        let dayPrice = 4850/365;\r\n        let today = new Date()\r\n        today.setUTCHours(0, 0, 0, 0);\r\n        let NextJun = FindNextJun(today)\r\n        let x = (Math.floor( dayPrice*(NextJun.getTime()-Appartement.DateDeSignatureDuContrat.toDate().getTime())/(1000*60*60*24) ))\r\n\r\n        if(x >= 4850){\r\n            while(true){\r\n                x = x-4850\r\n                console.log(x)\r\n                if(x<4850){\r\n                    break\r\n                }\r\n            }            \r\n        }else{\r\n            console.log(x)\r\n        }\r\n\r\n        // console.log(\"fin : \",x)\r\n        // if(some >= 4850){\r\n        //     some = some-4850\r\n        //     Alert.alert(some.toString())\r\n        // }else{\r\n        //     Alert.alert(some.toString())\r\n        //     bool = false\r\n        // }\r\n    }\r\n    const ChargeByAppartement = (userToAdd) => {\r\n        \r\n        return(\r\n\r\n            <View>\r\n                {userToAdd.proprietaireDe.map((Appartement,i)=>{\r\n                    chargeParAnnee(Appartement)\r\n                    let today = new Date()\r\n                    today.setUTCHours(0, 0, 0, 0);\r\n                    let NextJun = FindNextJun(today)\r\n                    let dayPrice = 4850/365\r\n                    let x = (Math.floor( dayPrice*(NextJun.getTime()-Appartement.DateDeSignatureDuContrat.toDate().getTime())/(1000*60*60*24) ))\r\n                    return(\r\n                        <Text style={{textAlign:\"center\"}}>\r\n                            {\"appart \" + (Appartement.titreFoncier) + \" : \"}\r\n                            {\"Montant Ã  payer : \" + JSON.stringify(  x  )+\" DH \" + \"\\n\"}\r\n                        </Text>\r\n                    )\r\n                })} \r\n            </View>\r\n        )\r\n    }\r\n    \r\n    const charges = (ListDesAppartements) => {\r\n        let results = [\r\n            \r\n        ]\r\n\r\n        let today = new Date()\r\n        today.setUTCHours(0, 0, 0, 0);\r\n        let NextJunFromToDay = FindNextJun(today)\r\n        let dayPrice = 4850/365\r\n\r\n        ListDesAppartements.map((appartment,i)=>{\r\n            \r\n            let ContractTimeStamp = appartment.DateDeSignatureDuContrat.toDate().getTime()\r\n            let ContractnextJuneTimeStamp = FindNextJun(appartment.DateDeSignatureDuContrat.toDate()).getTime()\r\n\r\n            // let DiffContractJune = ContractnextJuneTimeStamp-ContractTimeStamp\r\n\r\n            // let june1 = (new Date(ContractnextJuneTimeStamp-(365*1000*60*60*24))).getFullYear()\r\n            // let june2 = (new Date(ContractnextJuneTimeStamp)).getFullYear()\r\n\r\n\r\n            \r\n\r\n            if(ContractnextJuneTimeStamp === NextJunFromToDay.getTime()){\r\n                results.push({\r\n                    jours : Math.floor( ((NextJunFromToDay.getTime()-ContractnextJuneTimeStamp)/(100*60*60*24)) )\r\n                })\r\n                // Alert.alert(\"\",\r\n                //     \"c nxt : \"+ContractnextJuneTimeStamp\r\n                //     +\"\\n\"+\r\n                //     \"today nxt : \"+NextJunFromToDay.getTime()+\"&&&&&&&&&&&\"\r\n                // )\r\n            }else{\r\n\r\n                    // Alert.alert(\"\",\r\n                    //     \"c nxt : \"+ContractnextJuneTimeStamp\r\n                    //     +\"\\n\"+\"aaaaaaaaaaa\"+\r\n                    //     \"today nxt : \"+NextJunFromToDay.getTime()\r\n                    // )\r\n                    // ContractnextJuneTimeStamp = ContractnextJuneTimeStamp + 1000*60*60*24*356\r\n                    // Alert.alert(\"\",\r\n                    //     \"c nxt : \"+ContractnextJuneTimeStamp\r\n                    //     +\"\\n\"+\r\n                    //     \"today nxt : \"+NextJunFromToDay.getTime()+\"aaaaaaa\"\r\n                    // )\r\n                    // ContractnextJuneTimeStamp = ContractnextJuneTimeStamp + 1000*60*60*24*356\r\n\r\n                    results.push({\r\n                        jours : Math.floor( ((NextJunFromToDay.getTime())) )\r\n                    })\r\n                \r\n            }\r\n            Alert.alert(\"\",\r\n                JSON.stringify(results)\r\n            )\r\n            // Alert.alert(\"\",\r\n            //     JSON.stringify((new Date(ContractTimeStamp)))\r\n            //     +\r\n            //     \"\\n\"\r\n            //     +\r\n            //     JSON.stringify((new Date(ContractnextJuneTimeStamp+3*(1000*60*60*24*365))))\r\n            //     +\r\n            //     \"\\n\"\r\n            //     +\r\n            //     JSON.stringify((new Date(NextJunFromToDay.getTime())))\r\n            //     +\r\n            //     \"\\n\"\r\n            //     +\r\n            //     JSON.stringify(  Math.floor( (DiffContractJune/(1000*60*60*24))*dayPrice )  )+\" Dh \"+\"\\n\"\r\n            //     + \"Ã  payer Pour la saison : \"\r\n            //     +\"\\n\"+\r\n            //     +june1+\"-\"+june2\r\n                \r\n            // )\r\n            \r\n\r\n            \r\n        })\r\n    }\r\n\r\n\r\n    \r\n\r\n    return (\r\n        <TheContextConsumer>\r\n                {(value) => {\r\n\r\n                    \r\n                    return(\r\n                        <View style={styles.container}>\r\n                            <View></View>\r\n                            <Text>Profile</Text>\r\n                            \r\n                            <View>\r\n                                \r\n                                {charges(value.userState.proprietaireDe)}\r\n                            </View>\r\n                            <View>\r\n                                <Button\r\n                                    title=\"back\"\r\n                                    onPress={()=>{\r\n                                        navigation.navigate(\"Dashboard\")\r\n                                    }}\r\n                                />\r\n                            </View>\r\n                        </View>\r\n\r\n                    )\r\n                }}\r\n        </TheContextConsumer>        \r\n    )\r\n}\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-around',\r\n    },\r\n  });"]},"metadata":{},"sourceType":"module"}