{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\dropshipping\\\\mobile developpement\\\\bentriaa\\\\context\\\\context.js\";\nimport React, { createContext, useEffect, useState } from \"react\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { auThentication, fireStore } from \"../firebase/firebase\";\nvar TheContext = createContext();\nexport default function TheContextProvider(props) {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      userState = _useState2[0],\n      setuserState = _useState2[1];\n\n  var Login = function Login(email, password) {\n    auThentication.signInWithEmailAndPassword(email, password).then(function (Credentials) {\n      fireStore.collection('users').doc(Credentials.user.uid).get().then(function (doc) {\n        setuserState(doc.data());\n      });\n    });\n  };\n\n  var addNewUser = function addNewUser(userToadd) {\n    userToadd.password = \"******\";\n    return auThentication.createUserWithEmailAndPassword(userToadd.email, userToadd.password).then(function (Credentials) {\n      fireStore.collection(\"users\").doc(Credentials.user.uid).set(userToadd).catch(function (e) {\n        Alert.alert(e.toString());\n      }).catch(function (e) {\n        return Alert.alert(e.toString());\n      });\n    }).then(function () {\n      Alert.alert(userToadd.email, \"ajoutÃ© ðŸ‘\");\n    }).catch(function (e) {\n      return Alert.alert(e.toString());\n    });\n  };\n\n  var LogOut = function LogOut() {\n    auThentication.signOut();\n    setuserState({\n      connected: false,\n      isAdmin: false,\n      uid: \"\",\n      infos: {}\n    });\n  };\n\n  return React.createElement(TheContext.Provider, {\n    value: {\n      userState: userState,\n      Login: Login,\n      LogOut: LogOut,\n      addNewUser: addNewUser\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, props.children);\n}\nvar TheContextConsumer = TheContext.Consumer;\nexport { TheContextProvider, TheContextConsumer };","map":{"version":3,"sources":["D:/dropshipping/mobile developpement/bentriaa/context/context.js"],"names":["React","createContext","useEffect","useState","auThentication","fireStore","TheContext","TheContextProvider","props","userState","setuserState","Login","email","password","signInWithEmailAndPassword","then","Credentials","collection","doc","user","uid","get","data","addNewUser","userToadd","createUserWithEmailAndPassword","set","catch","e","Alert","alert","toString","LogOut","signOut","connected","isAdmin","infos","children","TheContextConsumer","Consumer"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,QAA1C,QAA0D,OAA1D;;AAEA,SAASC,cAAT,EAAyBC,SAAzB;AAEA,IAAMC,UAAU,GAAGL,aAAa,EAAhC;AAEA,eAAe,SAASM,kBAAT,CAA4BC,KAA5B,EAAmC;AAAA,kBAEZL,QAAQ,CAAC,EAAD,CAFI;AAAA;AAAA,MAEvCM,SAFuC;AAAA,MAE5BC,YAF4B;;AAkB9C,MAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAOC,QAAP,EAAoB;AAE9BT,IAAAA,cAAc,CAACU,0BAAf,CAA0CF,KAA1C,EAAgDC,QAAhD,EAA0DE,IAA1D,CAA+D,UAACC,WAAD,EAAe;AAE1EX,MAAAA,SAAS,CAACY,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,CAAkCF,WAAW,CAACG,IAAZ,CAAiBC,GAAnD,EAAwDC,GAAxD,GAA8DN,IAA9D,CAAmE,UAACG,GAAD,EAAO;AACtER,QAAAA,YAAY,CAACQ,GAAG,CAACI,IAAJ,EAAD,CAAZ;AAEH,OAHD;AAKH,KAPD;AAQH,GAVD;;AAWA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,SAAD,EAAe;AAC9BA,IAAAA,SAAS,CAACX,QAAV,GAAqB,QAArB;AACA,WACIT,cAAc,CAACqB,8BAAf,CAA8CD,SAAS,CAACZ,KAAxD,EAA8DY,SAAS,CAACX,QAAxE,EAAkFE,IAAlF,CAAuF,UAACC,WAAD,EAAe;AAClGX,MAAAA,SAAS,CAACY,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,CAAkCF,WAAW,CAACG,IAAZ,CAAiBC,GAAnD,EAAwDM,GAAxD,CAA4DF,SAA5D,EAAuEG,KAAvE,CAA6E,UAACC,CAAD,EAAK;AAC9EC,QAAAA,KAAK,CAACC,KAAN,CAAYF,CAAC,CAACG,QAAF,EAAZ;AACH,OAFD,EAEGJ,KAFH,CAES,UAACC,CAAD;AAAA,eAAKC,KAAK,CAACC,KAAN,CAAYF,CAAC,CAACG,QAAF,EAAZ,CAAL;AAAA,OAFT;AAGH,KAJD,EAIGhB,IAJH,CAIQ,YAAI;AAACc,MAAAA,KAAK,CAACC,KAAN,CAAYN,SAAS,CAACZ,KAAtB,EAA4B,WAA5B;AAAyC,KAJtD,EAIwDe,KAJxD,CAI8D,UAACC,CAAD;AAAA,aAAKC,KAAK,CAACC,KAAN,CAAYF,CAAC,CAACG,QAAF,EAAZ,CAAL;AAAA,KAJ9D,CADJ;AAOH,GATD;;AAWA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAK;AAChB5B,IAAAA,cAAc,CAAC6B,OAAf;AACAvB,IAAAA,YAAY,CAAC;AACTwB,MAAAA,SAAS,EAAC,KADD;AAETC,MAAAA,OAAO,EAAC,KAFC;AAGTf,MAAAA,GAAG,EAAG,EAHG;AAITgB,MAAAA,KAAK,EAAC;AAJG,KAAD,CAAZ;AAOH,GATD;;AAYA,SACI,oBAAC,UAAD,CAAY,QAAZ;AAAqB,IAAA,KAAK,EAAE;AAAC3B,MAAAA,SAAS,EAATA,SAAD;AAAWE,MAAAA,KAAK,EAALA,KAAX;AAAiBqB,MAAAA,MAAM,EAANA,MAAjB;AAAwBT,MAAAA,UAAU,EAAVA;AAAxB,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKf,KAAK,CAAC6B,QADX,CADJ;AAKH;AACD,IAAMC,kBAAkB,GAAGhC,UAAU,CAACiC,QAAtC;AAEA,SAAQhC,kBAAR,EAA2B+B,kBAA3B","sourcesContent":["import React, { createContext, useEffect, useState } from \"react\";\r\nimport { Alert } from \"react-native\";\r\nimport { auThentication, fireStore } from \"../firebase/firebase\";\r\n\r\nconst TheContext = createContext();\r\n\r\nexport default function TheContextProvider(props) {\r\n\r\n    const [userState, setuserState] = useState({});\r\n    \r\n    // useEffect(() => {\r\n    //     if(userState.isAdmin === false){\r\n    //         fireStore.collection(\"users\").get().then((snap)=>{\r\n    //             snap.docs.map((doc)=>{\r\n    //                 console.log(doc.id)\r\n    //             })\r\n    //         }).catch((e)=>{console.log(\"error\",e)})\r\n    //     }\r\n        \r\n    // }, [userState])\r\n    \r\n\r\n    \r\n\r\n    const Login = (email,password) => {\r\n        \r\n        auThentication.signInWithEmailAndPassword(email,password).then((Credentials)=>{\r\n            \r\n            fireStore.collection('users').doc(Credentials.user.uid).get().then((doc)=>{\r\n                setuserState(doc.data())\r\n                \r\n            })\r\n            // Alert.alert(Credentials.user.uid);\r\n        })\r\n    }\r\n    const addNewUser = (userToadd) => {\r\n        userToadd.password = \"******\"\r\n        return(\r\n            auThentication.createUserWithEmailAndPassword(userToadd.email,userToadd.password).then((Credentials)=>{\r\n                fireStore.collection(\"users\").doc(Credentials.user.uid).set(userToadd).catch((e)=>{\r\n                    Alert.alert(e.toString());\r\n                }).catch((e)=>Alert.alert(e.toString()))\r\n            }).then(()=>{Alert.alert(userToadd.email,\"ajoutÃ© ðŸ‘\")}).catch((e)=>Alert.alert(e.toString()))\r\n        )\r\n    }\r\n    \r\n    const LogOut = () =>{\r\n        auThentication.signOut();\r\n        setuserState({\r\n            connected:false,\r\n            isAdmin:false,\r\n            uid : \"\",\r\n            infos:{\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <TheContext.Provider value={{userState,Login,LogOut,addNewUser}}>\r\n            {props.children}\r\n        </TheContext.Provider>\r\n    )\r\n}\r\nconst TheContextConsumer = TheContext.Consumer;\r\n\r\nexport {TheContextProvider,TheContextConsumer}"]},"metadata":{},"sourceType":"module"}